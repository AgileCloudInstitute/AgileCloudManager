---
# Defines a release definition
name: Create Azure Storage Account Release
description: A Release Definition for creating Azure Storage Accounts
variables:
  - storageAccountName: terraformbknd123zyx456wv
    storageContainerName: terraform-azure-storage-account
environments:
  - name: Dev environment
    deployPhases:
      - name: Azure Storage Account Creation Job
        deploymentInput:
        - artifactsDownloadInput:
          - alias: _azure-storage-account-toolkit  
        workflowTasks:
        - name: Python task to create Azure Storage Account
          type: Python
          scriptPath: "$(System.DefaultWorkingDirectory)/_azure-storage-account-toolkit/drop/pipeline-tasks/createStorageAccount.py "
          arguments: " $(storageAccountName)  $(storageContainerName)  $(terra-backend-key)  $(System.DefaultWorkingDirectory)  $(client-id)  $(client-secret)  $(subscription-id)  $(tenant-id) "
