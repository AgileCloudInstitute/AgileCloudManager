---
# Defines a release definition
name: Create Terraform AWS Simple Example Release
description: A Release Definition for creating instances of Terraform AWS Simple Example
variables:
  - aws-region: us-west-2
environments:
  - name: Dev environment
    deployPhases:
      - name: AWS Creation Job
        deploymentInput: 
        - artifactsDownloadInput:
          - alias: _terraform-aws-simple-example
        workflowTasks: 
        - name: Python task to create AWS example
          type: Python
          scriptPath: "$(System.DefaultWorkingDirectory)/_terraform-aws-simple-example/drop/pipeline-scripts/destroySimpleExample.py"
          arguments: "$(-aws-public-access-key)  $(-aws-secret-access-key)  $(storageAccountNameTerraformBackend)  $(terra-backend-key)  $(aws-region)  $(System.DefaultWorkingDirectory)"
